{
  "properties": {
    "connectionReferences": {},
    "definition": {
      "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
      "actions": {
        "Compose": {
          "description": "@{parameters('ProductionEnvironment (admin_ProductionEnvironment)')}",
          "inputs": "@parameters('ProductionEnvironment (admin_ProductionEnvironment)')",
          "metadata": {
            "operationMetadataId": "2ef5869d-bedf-40dd-95e6-fc70cab44783"
          },
          "runAfter": {
            "Compose_6": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        },
        "Compose_3": {
          "description": "@{parameters('Environment Request Admin App Url (coe_EnvironmentRequestAdminAppUrl)')}",
          "inputs": "@parameters('Environment Request Admin App Url (coe_EnvironmentRequestAdminAppUrl)')",
          "metadata": {
            "operationMetadataId": "ec00e2d9-c2df-4432-b4ce-cd2de1961dbc"
          },
          "runAfter": {
            "maker_group_2": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        },
        "Compose_4": {
          "description": "@{parameters('Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)')}",
          "inputs": "@parameters('Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)')",
          "metadata": {
            "operationMetadataId": "c4c658ed-6ec0-4a01-a305-9aa5017186d5"
          },
          "runAfter": {
            "Compose_3": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        },
        "Compose_5": {
          "description": "@{parameters('PowerApp Maker Environment Variable (admin_PowerAppEnvironmentVariable)')}",
          "inputs": "@parameters('PowerApp Maker Environment Variable (admin_PowerAppEnvironmentVariable)')",
          "metadata": {
            "operationMetadataId": "e8e1f14a-eccb-46b2-a420-c6da096a58f8"
          },
          "runAfter": {
            "Compose_4": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        },
        "Compose_6": {
          "description": "@{parameters('PowerApp Player Environment Variable (admin_PowerAppPlayerEnvironmentVariable)')}",
          "inputs": "@parameters('PowerApp Player Environment Variable (admin_PowerAppPlayerEnvironmentVariable)')",
          "metadata": {
            "operationMetadataId": "74af66fd-927c-468e-8509-0f08635ae799"
          },
          "runAfter": {
            "Compose_5": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        },
        "maker_group_1": {
          "description": "@{parameters('Power Platform Maker Group ID (admin_PowerPlatformMakeSecurityGroup)')}",
          "inputs": "@parameters('Power Platform Maker Group ID (admin_PowerPlatformMakeSecurityGroup)')",
          "metadata": {
            "operationMetadataId": "74590bb5-8202-4d0d-b72f-6c6f8fc2dd48"
          },
          "runAfter": {},
          "type": "Compose"
        },
        "maker_group_2": {
          "description": "@{parameters('PowerApp Maker Environment Variable (admin_PowerAppEnvironmentVariable)')}",
          "inputs": "@parameters('PowerApp Maker Environment Variable (admin_PowerAppEnvironmentVariable)')",
          "metadata": {
            "operationMetadataId": "2f8fd7fe-6a75-4ec0-9322-fb5bae6a01bb"
          },
          "runAfter": {
            "maker_group_1": [
              "Succeeded"
            ]
          },
          "type": "Compose"
        }
      },
      "contentVersion": "1.0.0.0",
      "outputs": {},
      "parameters": {
        "$authentication": {
          "defaultValue": {},
          "type": "SecureObject"
        },
        "Environment Request Admin App Url (coe_EnvironmentRequestAdminAppUrl)": {
          "defaultValue": "coe_EnvironmentRequestAdminAppUrl",
          "metadata": {
            "description": "Leave blank on Import. URL to Environment Request Admin Canvas App.",
            "schemaName": "coe_EnvironmentRequestAdminAppUrl"
          },
          "type": "String"
        },
        "Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)": {
          "defaultValue": "https://us.flow.microsoft.com/manage/environments/",
          "metadata": {
            "description": "Environment, including geographic location, for Power Automate - Ex for commercial: https://flow.microsoft.com/manage/environments/",
            "schemaName": "admin_PowerAutomateEnvironmentVariable"
          },
          "type": "String"
        },
        "Power Platform Maker Group ID (admin_PowerPlatformMakeSecurityGroup)": {
          "defaultValue": "ac6c2c0b-9d2b-4bc0-8117-ec1a244dbfa4",
          "metadata": {
            "description": "Enter the ID of the Microsoft 365 group which will contain all your Power Platform Makers.  It is needed to communicate and share apps with them.",
            "schemaName": "admin_PowerPlatformMakeSecurityGroup"
          },
          "type": "String"
        },
        "PowerApp Maker Environment Variable (admin_PowerAppEnvironmentVariable)": {
          "defaultValue": "https://make.powerapps.com/",
          "metadata": {
            "description": "The maker URL used by PowerApps for your cloud. Ex https://make.powerapps.com/",
            "schemaName": "admin_PowerAppEnvironmentVariable"
          },
          "type": "String"
        },
        "PowerApp Player Environment Variable (admin_PowerAppPlayerEnvironmentVariable)": {
          "defaultValue": "https://apps.powerapps.com/",
          "metadata": {
            "description": "The player URL used by PowerApps for your cloud. Ex https://apps.powerapps.com/",
            "schemaName": "admin_PowerAppPlayerEnvironmentVariable"
          },
          "type": "String"
        },
        "ProductionEnvironment (admin_ProductionEnvironment)": {
          "defaultValue": true,
          "metadata": {
            "description": "true by default. set to false if you are creating a dev type envt. this will allow some flows to set target users to the admin instead of object owners",
            "schemaName": "admin_ProductionEnvironment"
          },
          "type": "Bool"
        }
      },
      "triggers": {
        "manual": {
          "inputs": {
            "schema": {
              "properties": {},
              "required": [],
              "type": "object"
            }
          },
          "kind": "Button",
          "metadata": {
            "operationMetadataId": "0eeef303-d0d1-4941-9db5-6c39db520892"
          },
          "type": "Request"
        }
      }
    }
  },
  "schemaVersion": "1.0.0.0"
}
